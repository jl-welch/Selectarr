!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).selectarr=t()}(this,function(){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var a="data-selectarr",s="data-selectarr-list",c="data-selectarr-item",o="selectarr-active",e=function(){function r(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"[".concat(a,"]"),t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.changeActiveListItem=this.changeActiveListItem.bind(this),this.search=this.search.bind(this),this.createList=this.createList.bind(this),this.keyEnter=this.keyEnter.bind(this),this.keyArrow=this.keyArrow.bind(this),this.hoverInputItem=this.hoverInputItem.bind(this),this._element=document.querySelector(e),this._data=t,this._index=-1,this._element&&this._element.addEventListener("keyup",this.search)}var e,t,n;return e=r,n=[{key:"changeInputValue",value:function(e){var t=e.target.closest("[".concat(c,"]"));if(!t)return r.removeList(),null;var n=t.parentElement.parentElement.querySelector("[".concat(a,"]"));n&&(n.value=t.textContent),r.removeList()}},{key:"removeList",value:function(){var e=document.querySelector("[".concat(s,"]"));e&&e.parentElement.removeChild(e)}}],(t=[{key:"createList",value:function(e,t){var n,i=this,r=document.createElement("ul");r.setAttribute(s,""),e.forEach(function(e,t){(n=document.createElement("li")).setAttribute(c,t),n.textContent=e,n.addEventListener("mouseenter",i.hoverInputItem),r.appendChild(n)}),t.appendChild(r)}},{key:"changeActiveListItem",value:function(){var e=document.querySelectorAll("[".concat(c,"]"));if(!e.length)return null;var t=document.querySelector(".".concat(o));t&&(t.className=""),e[this._index].className=o}},{key:"keyEnter",value:function(e){if(-1===this._index)return null;var t=e.target.closest("[".concat(a,"]")),n=document.querySelectorAll("[".concat(c,"]"));if(!t||!n.length)return null;t.value=n[this._index].textContent,r.removeList()}},{key:"keyArrow",value:function(e){var t=document.querySelectorAll("[".concat(c,"]"));if(!t.length)return null;if("ArrowUp"===e.key){if(0===this._index||-1===this._index)return;this._index--}else{if(this._index===t.length-1)return;this._index=this._index+1}this.changeActiveListItem()}},{key:"hoverInputItem",value:function(e){var t=e.target.closest("[".concat(c,"]"));if(!t)return null;this._index=parseInt(t.getAttribute(c),10),this.changeActiveListItem()}},{key:"search",value:function(e){if("ArrowUp"!==e.key&&"ArrowDown"!==e.key)if("Enter"!==e.key){this._index=-1,r.removeList();var t=e.target.closest("[".concat(a,"]"));if(!t||!t.value.length)return null;var n=new RegExp(t.value,"gi"),i=this._data.filter(function(e){return e.match(n)});i.length&&this.createList(i,t.parentElement)}else this.keyEnter(e);else this.keyArrow(e)}}])&&i(e.prototype,t),n&&i(e,n),r}();document.addEventListener("click",e.changeInputValue);new e(".test",["one","two","three","hello","goodbye","james","jurate"]);return new e(".testt",["one","two","three","hello","goodbye","james","jurate"]),e});